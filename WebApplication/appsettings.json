// Copyright Â© 2017 SOFTINUX. All rights reserved.
// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.

{
  "Extensions": {
    // Please use '/' for directory separator
    "Path": "/Extensions"
  },
  "ConnectionStrings": {
    // Please use '/' for directory separator
    "Default": "Data Source=basedb.sqlite"
  },
  "Corporate": {
    "Name": "SOFTINUX",
    "BrandLogo": "softinux_logo-bg-transparent30x30.png"
  },
  // See https://docs.microsoft.com/fr-fr/aspnet/core/security/authentication/identity-configuration?tabs=aspnetcore2x
  "SignIn":
  {
    "SignIn.RequireConfirmedEmail": true,
    "SignIn.RequireConfirmedPhoneNumber": false
  },
  "LockoutUser":
  {
    "Lockout.DefaultLockoutTimeSpan": 5,
    "Lockout.MaxFailedAccessAttempts": 5,
    "Lockout.AllowedForNewUsers": true
  },
  "ValidateUser":
  {
    "options.User.RequireUniqueEmail": true
  },
  "PasswordStrategy":
  {
    "Password.RequireDigit": true,
    "Password.RequiredLength": 8,
    "Password.RequireNonAlphanumeric": true,
    "Password.RequireUppercase": true,
    "Password.RequireLowercase": true,
    "Password.RequiredUniqueChars": 2,
  },
  "ConfigureApplicationCookie":
  {
    "LoginPath" : "/account/signin",
    "LogoutPath": "/account/signoff",
    "AccessDeniedPath": "",
    "Cookie.Name": ".",
    "Cookie.HttpOnly": true, //this must be true to prevent XSS
    "Cookie.SameSite": 0, //None = 0, Lax = 1, Strict = 2
    "options.Cookie.SecurePolicy": 2, // SameAsRequest = 0, Always = 1, None = 2
    "SlidingExpiration": true,
    "ExpireTimeSpan": 60
  },
  "Logging": {
    "IncludeScopes": false,
    "LogLevel": {
      "Default": "Debug",
      "System": "Information",
      "Microsoft": "Information"
    }
  },
  "Serilog": {
    "MinimumLevel": "Verbose",
    "Enrich": [ "FromLogContext", "WithMachineName", "WithProcessId", "WithThreadId" ],
    "WriteTo": [
      {
        "Name": "RollingFile",
        "Args": {
          "pathFormat": "log-{Date}.log",
          "textFormatter": "JsonFormatter",
          "fileSizeLimitBytes": 2147483648,
          "retainedFileCountLimit": 5
        }
      }
    ]
  }
}