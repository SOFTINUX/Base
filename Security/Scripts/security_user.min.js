function browseForAvatar(){$("#file_browser").click(function(n){n.preventDefault();$("#inputAvatar").click()})}function listenToPermissionsCheckboxEvents(){console.log("attaching event handling");$("input").on("change",function(n){console.log("input was changed!");n.preventDefault();permissionCheckboxChanged($(this),!1)})}function permissionCheckboxChanged(n,t){var i=n.attr("data-slave-cb"),r;i?(r=n.is(":checked"),i=n.closest("tr").children("td").find("input:checkbox[value='"+i+"']")[0],r?(t||savePermission(n.closest("tr").attr("data-entity-id"),n.closest("tbody").attr("data-entity-id"),n.val()),$(i).prop("checked",!0).prop("disabled",!0)):(t||savePermission(n.closest("tr").attr("data-entity-id"),n.closest("tbody").attr("data-entity-id"),$(i).val()),$(i).prop("disabled",!1))):savePermission(n.closest("tr").attr("data-entity-id"),n.closest("tbody").attr("data-entity-id"),null)}function savePermission(n,t,i){let r={roleId_:n,permissionId_:i,scope_:t};$.ajax("/administration/updaterolepermission",{data:r})}function edit_state(n,t,i){i.preventDefault();$("#cancel_"+t).removeClass("hidden");$("button#"+t).addClass("hidden");t==="save_profile_btn"&&($("#file_browser").addClass("btn-primary"),$("#file_browser").removeClass("btn-default"));$("#"+n).prop("disabled")&&($("#"+n).removeAttr("disabled"),$("#"+t).prop("disabled",!0))}function cancel_edit_state(n,t,i,r,u){u.preventDefault();$("#"+t).prop("disabled",!0);$("#"+i).prop("disabled",!1);$("button#"+i).text(r);$("#cancel_"+i).addClass("hidden");$("button#"+i).removeClass("hidden");$("#file_browser").removeClass("btn-primary");$("#"+i).removeClass("btn-success").addClass("btn-primary");$("#"+n)[0].reset()}function input_changed(n){$("#"+n).prop("disabled",!1);$("#"+n).removeClass("btn-primary").addClass("btn-success");$("button#"+n).text("Save");$("#cancel_"+n).removeClass("hidden");$("button#"+n).removeClass("hidden")}$(function(){browseForAvatar();$("#save_profile_btn").click(function(n){edit_state("profile_form_fieldset","save_profile_btn",n)});$("#cancel_save_profile_btn").click(function(n){cancel_edit_state("profile_form","profile_form_fieldset","save_profile_btn","Edit",n)});$("#profile_form :input").bind("keyup change paste",function(){input_changed("save_profile_btn")});$("#change_pwd-btn").click(function(n){edit_state("pwd_form_fliedset","change_pwd-btn",n)});$("#cancel_change_pwd-btn").click(function(n){cancel_edit_state("pwd_form","pwd_form_fliedset","change_pwd-btn","Change",n)});$("#pwd_form :input").bind("keyup change paste",function(){input_changed("change_pwd-btn")});$("#inputAvatar").change(function(){$("#file_path").val($(this).val())})});